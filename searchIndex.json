[
{
		"title": "Home",
		"date":"Wed Jan 03 2024 06:48:07 GMT+0000 (Coordinated Universal Time)",
		"url":"/",
		"content": "Content\nMatplotlib\n<a class=\"internal-link\" target=\"\" data-note-icon=\"\" href=\"/Matplotlib/Matplotlib plot mixed with Chinese and English/\">Matplotlib plot mixed with Chinese and English</a>\nLinux\n<a class=\"internal-link\" target=\"\" data-note-icon=\"\" href=\"/Linux笔记/SSH Things/\">SSH Things</a>",
		"tags": [ "note","gardenEntry"]
},

{
		"title": "SSH Things",
		"date":"Wed Jan 03 2024 06:48:07 GMT+0000 (Coordinated Universal Time)",
		"url":"/Linux笔记/SSH Things/",
		"content": "映射远程端口到本地\nssh -L53682:localhost:53682 ubuntu@158.101.140.179\n\n#Todo",
		"tags": ["Todo", "note"]
},

{
		"title": "解决使用 Python 的 matplotlib 画图时中文显示为乱码的问题 | J. Xu",
		"date":"Wed Jan 03 2024 06:48:07 GMT+0000 (Coordinated Universal Time)",
		"url":"/Matplotlib/Matplotlib plot mixed with Chinese and English/",
		"content": "在使用 Python 的 matplotlib 画图时如果设置了标题或者坐标轴名称为中文时，显示图片上中文出现乱码或四边形，不能正常显示我们需要的中文字，体验非常不好。下面给出一个解决方法。本篇以 Linux （Debian）系统为例。\n可以在 wfonts 下载，也可以在其他任何能够下载到 SimHei.ttf 的地方下载。\n把字体放在 matplotlib 能够发现的位置，如何指导正确的位置\n➜ ~ ipython\nPython 3.8.5 (default, Sep 4 2020, 07:30:14)\nType 'copyright', 'credits' or 'license' for more information\nIPython 7.23.0 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: import matplotlib\n\nIn [2]: matplotlib.matplotlib_fname()\nOut[2]: '/usr/local/miniconda/lib/python3.8/site-packages/matplotlib/mpl-data/matplotlibrc'\n\n从上面可以发现一个目录：'/usr/local/miniconda/lib/python3.8/site-packages/matplotlib/mpl-data/'，在该目录下有个文件夹\n➜ ~ ls /usr/local/miniconda/lib/python3.8/site-packages/matplotlib/mpl-data\nfonts images matplotlibrc plot_directive sample_data stylelib\n➜ ~ ls /usr/local/miniconda/lib/python3.8/site-packages/matplotlib/mpl-data/fonts\nafm pdfcorefonts ttf\n\n把下载的 SimHei.ttf 拷贝到 ttf 文件夹下\n一般需要先清除掉旧的 matplotlib 缓存后才能正常使用，缓存一般在家目录下，可以通过如下方法获得缓存地址\n➜ ~ ipython\nPython 3.8.5 (default, Sep 4 2020, 07:30:14)\nType 'copyright', 'credits' or 'license' for more information\nIPython 7.23.0 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: import matplotlib\n\nIn [2]: matplotlib.get_cachedir()\nOut[2]: '/home/jinzhongxu/.cache/matplotlib'\n\n发现我的确实在家目录下，因此直接去家目录删除即可\n➜ ~ ls .cache\njedi matplotlib yarn\n➜ ~ ls .cache/matplotlib\nfontlist-v330.json\n➜ ~ rm -r ~/.cache/matplotlib\n\n配置好中文字体后，只需要在每次画图时指定字体就可以正常显示中文字符了。\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nplt.rcParams[&quot;font.sans-serif&quot;] = [&quot;SimHei&quot;]\nplt.rcParams[&quot;axes.unicode_minus&quot;] = False\n\nx = np.linspace(-5, 5, 101)\ny = np.cos(x)\nplt.plot(x, y, &quot;r&quot;)\nplt.title(u&quot;余弦&quot;)\nplt.show()\n\n从上面可知，每次画图都需要在代码中配置中文字体才能正常显示中文字符，下面通过设置可以直接使用中文字体，那就是修改上面的配置文件\nvim /usr/local/miniconda/lib/python3.8/site-packages/matplotlib/mpl-data/matplotlibrc\n\nfont.family : sans-serif\n\nfont.sans-serif : SimHei, Bitstream Vera Sans, ...\n\naxes.unicode_minus : False\n\nimport matplotlib.pyplot as plt\nimport numpy as np\n\na = 3\nx = np.linspace(-(a + 1) * np.pi / 4, (a + 1) * np.pi / 4, 301)\ny1 = a * (1 + np.cos(x)) * np.cos(x)\ny2 = a * (1 + np.cos(x)) * np.sin(x)\n\nfig, ax = plt.subplots()\nfor key, spine in ax.spines.items():\n\nspine.set_visible(False)\n\nplt.plot(y2, -y1)\nplt.xticks([])\nplt.yticks([])\nplt.axis(&quot;equal&quot;)\nplt.show()\n\n整体调整\nimport matplotlib\n\nfont = {&quot;family&quot;: &quot;SimHei&quot;, &quot;weight&quot;: &quot;bold&quot;, &quot;size&quot;: 20}\n\nmatplotlib.rc(&quot;font&quot;, **font)\n\nimport matplotlib\n\nmatplotlib.rcParams.update({'font.size': 20})\n\nimport matplotlib.pyplot as plt\n\nplt.rcParams.update({'font.size': 20})\n\n单个调整\nimport matplotlib\n\nSIZE = 20\nmatplotlib.rc('font', size=SIZE)\nmatplotlib.rc('axes', titlesize=SIZE)\n\nimport matplotlib.pyplot as plt\n\nSIZE = 20\n\nplt.rc('font', size=SIZE)\nplt.rc('axes', titlesize=SIZE)\nplt.rc('axes', labelsize=SIZE)\nplt.rc('xtick', labelsize=SIZE)\nplt.rc('ytick', labelsize=SIZE)\nplt.rc('legend', fontsize=SIZE)\nplt.rc('figure', titlesize=SIZE)\n\nmatplotlib 对中文的支持（Font family [‘sans-serif’] not found.Falling back to DejaVu Sans）\nubuntu 系统下 matplotlib 中文乱码问题\n如何在 Matplotlib 中设置刻度标签 xticks 字体大小",
		"tags": [ "note","Matplotlib"]
}
]